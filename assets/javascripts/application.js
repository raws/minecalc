((function(){var a,b,c,d,e;a=function(){function a(){this.packages=[]}a.Packages={};a.prototype.package=function(a){return this.packages.push(a)};a.prototype.material=function(a){var b,c,d,e;e=a.toLowerCase().match(/^([^\.]+)\.(.+)$/).slice(1,3),d=e[0],b=e[1];c=_.find(this.packages,function(a){return a.name.toLowerCase()===d});return c?c.materials[b]:null};return a}();c=function(){function a(a,b){b==null&&(b=1);this.materialName=a;this.amount=b}a.prototype.material=function(){return d.material(this.materialName)};a.prototype.name=function(){return material().name};return a}();b=function(){function a(a,b,d,e){e==null&&(e=1);this.pattern=a;this.materials=b;this.creates=new c(d,e)}a.prototype.requires=function(){var a,b,e,f,g,h,i,j,k,l,m;g={};l=this.pattern;for(h=0,j=l.length;h<j;h++){b=l[h];m=b.split("");for(i=0,k=m.length;i<k;i++){a=m[i];if((e=this.materials[a])&&(e=d.material(e))){f=g[e]||new c(e,0);f.amount+=1;g[e]=f}}}return g};return a}();a.Packages.Vanilla={name:"Vanilla",materials:{wood:{name:"Wood"},planks:{name:"Wooden Planks"},stick:{name:"Stick"},"wooden-pickaxe":{name:"Wooden Pickaxe"}},recipes:[new b(["PPP"," S ","   "],{P:"vanilla.planks",S:"vanilla.stick"},"vanilla.wooden-pickaxe")]};d=new a;d.package(a.Packages.Vanilla);e=function(){var a,b,c,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;p=d.packages;t=[];for(l=0,n=p.length;l<n;l++){f=p[l];a=$("<li>").append("<h3>"+f.name+"</h3>");e=$("<ul>");q=f.materials;for(b in q){c=q[b];e.append("<li>"+c.name+"</li>")}a.append("<h4>Materials</h4>").append(e);i=$("<ul>");r=f.recipes;for(m=0,o=r.length;m<o;m++){g=r[m];h=$("<li>");h.append("<p>"+g.creates.amount+" "+g.creates.name()+"</p>");j=$("<ul>");s=g.requires();for(c in s){k=s[c];j.append("<li>"+k.amount+" "+k.name()+"</li>")}h.append(j);i.append(h)}a.append("<h4>Recipes</h4>").append(i);t.push($("#packages").append(a))}return t};$(e)})).call(this);